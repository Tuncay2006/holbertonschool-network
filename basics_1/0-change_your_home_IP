#!/usr/bin/env bash
# Hosts dosyasının
HOSTS_FILE="/etc/hosts"

# Root yetkisi kontrolü
if [ "$EUID" -ne 0 ]; then
  echo "Bu script root (sudo) ile çalıştırılmalıdır."
  exit 1
fi

# Yedek al
cp $HOSTS_FILE "${HOSTS_FILE}.bak"

# localhost tanımını sil (127.0.0.1 olan)
sed -i '/127\.0\.0\.1\s\+localhost/d' "$HOSTS_FILE"

# Yeni localhost tanımını 127.0.0.2 olarak ekle
echo "127.0.0.2   localhost" >> "$HOSTS_FILE"

# facebook.com satırını varsa kaldır
sed -i '/facebook\.com/d' "$HOSTS_FILE"

# facebook.com için 8.8.8.8 tanımı ekle
echo "8.8.8.8   facebook.com" >> "$HOSTS_FILE"

echo "Değişiklikler yapıldı. Test etmek için:"
echo "  ping localhost"
echo "  ping facebook.com"
